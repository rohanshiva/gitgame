{"ast":null,"code":"import _objectSpread from\"/home/runner/work/gitgame/gitgame/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/runner/work/gitgame/gitgame/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";function useLineSelection(){var _useState=useState({start:undefined,end:undefined}),_useState2=_slicedToArray(_useState,2),selectedLines=_useState2[0],setSelectedLines=_useState2[1];var handleLineToggle=function handleLineToggle(e,lineNumber){var start=selectedLines.start;if(!e.shiftKey||start===undefined){setSelectedLines({start:lineNumber,end:lineNumber});}else if(lineNumber<start){setSelectedLines({start:lineNumber,end:start});}else if(lineNumber>start){setSelectedLines(_objectSpread(_objectSpread({},selectedLines),{},{end:lineNumber}));}else{setSelectedLines(_objectSpread(_objectSpread({},selectedLines),{},{end:lineNumber}));}};var clearLineSelection=function clearLineSelection(){setSelectedLines({start:undefined,end:undefined});};var isLineSelected=function isLineSelected(lineNumber){var start=selectedLines.start,end=selectedLines.end;if(start!==undefined&&end!==undefined){return lineNumber>=start&&lineNumber<=end;}else if(start!==undefined){return lineNumber===start;}return false;};var isStartOfSelection=function isStartOfSelection(lineNumber){return lineNumber===selectedLines.start;};return{selectedLines:selectedLines,clearLineSelection:clearLineSelection,handleLineToggle:handleLineToggle,isLineSelected:isLineSelected,isStartOfSelection:isStartOfSelection};}export default useLineSelection;","map":{"version":3,"names":["useState","useLineSelection","_useState","start","undefined","end","_useState2","_slicedToArray","selectedLines","setSelectedLines","handleLineToggle","e","lineNumber","shiftKey","_objectSpread","clearLineSelection","isLineSelected","isStartOfSelection"],"sources":["/home/runner/work/gitgame/gitgame/client/src/components/editor/hooks/lineSelection/UseLineSelection.tsx"],"sourcesContent":["import { useState } from \"react\";\n\nexport interface SelectedLines {\n  start: number | undefined;\n  end: number | undefined;\n}\n\ninterface useLineSelectionResult {\n  selectedLines: SelectedLines;\n  clearLineSelection: () => void;\n  handleLineToggle: (e: any, lineNumber: number) => void;\n  isLineSelected: (lineNumber: number) => boolean;\n  isStartOfSelection: (lineNumber: number) => boolean;\n}\n\nfunction useLineSelection(): useLineSelectionResult {\n  const [selectedLines, setSelectedLines] = useState<SelectedLines>({\n    start: undefined,\n    end: undefined,\n  });\n\n  const handleLineToggle = (e: any, lineNumber: number) => {\n    const { start } = selectedLines;\n\n    if (!e.shiftKey || start === undefined) {\n      setSelectedLines({ start: lineNumber, end: lineNumber });\n    } else if (lineNumber < start) {\n      setSelectedLines({ start: lineNumber, end: start });\n    } else if (lineNumber > start) {\n      setSelectedLines({ ...selectedLines, end: lineNumber });\n    } else {\n      setSelectedLines({ ...selectedLines, end: lineNumber });\n    }\n  };\n\n  const clearLineSelection = () => {\n    setSelectedLines({ start: undefined, end: undefined });\n  };\n\n  const isLineSelected = (lineNumber: number) => {\n    const { start, end } = selectedLines;\n\n    if (start !== undefined && end !== undefined) {\n      return lineNumber >= start && lineNumber <= end;\n    } else if (start !== undefined) {\n      return lineNumber === start;\n    }\n\n    return false;\n  };\n\n  const isStartOfSelection = (lineNumber: number) => {\n    return lineNumber === selectedLines.start;\n  };\n\n  return {\n    selectedLines,\n    clearLineSelection,\n    handleLineToggle,\n    isLineSelected,\n    isStartOfSelection,\n  };\n}\n\nexport default useLineSelection;\n"],"mappings":"2PAAA,OAASA,QAAQ,KAAQ,OAAO,CAehC,QAAS,CAAAC,gBAAgBA,CAAA,CAA2B,CAClD,IAAAC,SAAA,CAA0CF,QAAQ,CAAgB,CAChEG,KAAK,CAAEC,SAAS,CAChBC,GAAG,CAAED,SACP,CAAC,CAAC,CAAAE,UAAA,CAAAC,cAAA,CAAAL,SAAA,IAHKM,aAAa,CAAAF,UAAA,IAAEG,gBAAgB,CAAAH,UAAA,IAKtC,GAAM,CAAAI,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAIC,CAAM,CAAEC,UAAkB,CAAK,CACvD,GAAQ,CAAAT,KAAK,CAAKK,aAAa,CAAvBL,KAAK,CAEb,GAAI,CAACQ,CAAC,CAACE,QAAQ,EAAIV,KAAK,GAAKC,SAAS,CAAE,CACtCK,gBAAgB,CAAC,CAAEN,KAAK,CAAES,UAAU,CAAEP,GAAG,CAAEO,UAAW,CAAC,CAAC,CAC1D,CAAC,IAAM,IAAIA,UAAU,CAAGT,KAAK,CAAE,CAC7BM,gBAAgB,CAAC,CAAEN,KAAK,CAAES,UAAU,CAAEP,GAAG,CAAEF,KAAM,CAAC,CAAC,CACrD,CAAC,IAAM,IAAIS,UAAU,CAAGT,KAAK,CAAE,CAC7BM,gBAAgB,CAAAK,aAAA,CAAAA,aAAA,IAAMN,aAAa,MAAEH,GAAG,CAAEO,UAAU,GAAG,CACzD,CAAC,IAAM,CACLH,gBAAgB,CAAAK,aAAA,CAAAA,aAAA,IAAMN,aAAa,MAAEH,GAAG,CAAEO,UAAU,GAAG,CACzD,CACF,CAAC,CAED,GAAM,CAAAG,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAA,CAAS,CAC/BN,gBAAgB,CAAC,CAAEN,KAAK,CAAEC,SAAS,CAAEC,GAAG,CAAED,SAAU,CAAC,CAAC,CACxD,CAAC,CAED,GAAM,CAAAY,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIJ,UAAkB,CAAK,CAC7C,GAAQ,CAAAT,KAAK,CAAUK,aAAa,CAA5BL,KAAK,CAAEE,GAAG,CAAKG,aAAa,CAArBH,GAAG,CAElB,GAAIF,KAAK,GAAKC,SAAS,EAAIC,GAAG,GAAKD,SAAS,CAAE,CAC5C,MAAO,CAAAQ,UAAU,EAAIT,KAAK,EAAIS,UAAU,EAAIP,GAAG,CACjD,CAAC,IAAM,IAAIF,KAAK,GAAKC,SAAS,CAAE,CAC9B,MAAO,CAAAQ,UAAU,GAAKT,KAAK,CAC7B,CAEA,MAAO,MAAK,CACd,CAAC,CAED,GAAM,CAAAc,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIL,UAAkB,CAAK,CACjD,MAAO,CAAAA,UAAU,GAAKJ,aAAa,CAACL,KAAK,CAC3C,CAAC,CAED,MAAO,CACLK,aAAa,CAAbA,aAAa,CACbO,kBAAkB,CAAlBA,kBAAkB,CAClBL,gBAAgB,CAAhBA,gBAAgB,CAChBM,cAAc,CAAdA,cAAc,CACdC,kBAAkB,CAAlBA,kBACF,CAAC,CACH,CAEA,cAAe,CAAAhB,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}